---
layout: mypost
title: 人物移动时跑动动画的自然性
date:   2020-02-03 21:18:00
categories: [Unity]
---

# 人物移动时跑动动画的自然性

人物移动时，最简单的处理方案一般是这样的：

* 用户按下移动键，人物开始移动，同时播放跑动动画

这样本来是没有问题的，但是有一种情况：当人物移动速度过慢或者过快的时候，跑动动画仍旧不变，导致看起来人物移动不自然，移动慢的时候像原地跑步，移动快的时候动画动作显得很慢。

所以在优化的时候，我们可以适当改变跑动动画的播放速度，让人物在移动快慢的时候都显得自然真实，我们只需要这样做：

* 调试出人物在该跑动动画下看起来最正常流畅的移动速度moveSpeed
* 动画播放速度默认为1.0f，按比例对播放速度进行调整，利用Animator.speed属性

很简单对吧，就像LOL里面，人物被减速的时候，动作会变慢，加速的时候动作就很快。

#### 再优化

通过实验我们发现不止人物下半身的动作变化，上半身的动作也一起变了，这样会导致在需要结合上半身动作，如射击动作时，动画速度变快，使得射击起手动作几乎没有，马上就开枪了，在这种情况下我们需要进行上下身的分层，只让下半身的动作变快，这涉及到avatar mask动作分层，有兴趣的可以自行了解。